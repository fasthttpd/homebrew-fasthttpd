# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Fasthttpd < Formula
  desc "FastHttpd is a lightweight http server using valyala/fasthttp"
  homepage "https://github.com/fasthttpd/fasthttpd"
  version "0.5.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/fasthttpd/fasthttpd/releases/download/v0.5.0/fasthttpd_0.5.0_darwin_amd64.tar.gz"
      sha256 "ca249a720fb66aadd8479701819e240a887a16d2c18490f53768f363c209c0b8"

      def install
        bin.install "fasthttpd"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/fasthttpd/fasthttpd/releases/download/v0.5.0/fasthttpd_0.5.0_darwin_arm64.tar.gz"
      sha256 "f4ad862701f7014c52602c14fbbbbad3aca3be86a53b8e28615cade8b025fdb5"

      def install
        bin.install "fasthttpd"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/fasthttpd/fasthttpd/releases/download/v0.5.0/fasthttpd_0.5.0_linux_amd64.tar.gz"
      sha256 "cc73a33e5f03da3630b7d15fd7df91b15d438816a802903722265ad09ad30f1f"

      def install
        bin.install "fasthttpd"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/fasthttpd/fasthttpd/releases/download/v0.5.0/fasthttpd_0.5.0_linux_arm64.tar.gz"
      sha256 "8a241bf7191ff4272b794597bfdc00fbc2aebc6eb16460c2fc8499e204ac584d"

      def install
        bin.install "fasthttpd"
      end
    end
  end

  test do
    system "#{bin}/fasthttpd -v"
  end
end
